<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body.dark-mode {
            background-color: #121212;
            color: white;
        }
        .navbar.dark-mode {
            background-color: #1e1e1e;
        }
        .dashboard-container.dark-mode {
            background-color: #222;
            color: white;
        }
        .stat-card.dark-mode {
            background-color: #333;
        }
        .data-section.dark-mode table {
            background-color: #2a2a2a;
            color: white;
        }
        .navbar.dark-mode{
              background-color: #007bff;
              color:white;
        }
        /* Table row hover effect */
        .data-section table tbody tr:hover {
            background-color: rgb(255, 255, 255);
            color: rgb(0, 0, 0);
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-brand">Coal Dashboard</div>
        <div class="navbar-links">
            <a href="#overview">Overview</a>
            <a href="#charts">Charts</a>
            <a href="#data">Data</a>
            <a href="settings.html">Settings</a>
            <button id="logout-button">Logout</button>
        </div>
    </nav>

    <!-- Dashboard Content -->
    <div class="dashboard-container">
        <!-- Welcome Message -->
        <div class="welcome-message">
            <h1>Welcome, <span id="username">User</span>!</h1>
            <p>Explore the latest coal data and trends.</p>
        </div>

        <!-- Coal Category Flashcards -->
        <section id="category-selection" class="category-section">
            <h2>Select Coal Category</h2>
            <div class="flashcards-container">
                <!-- Bituminous Coal -->
                <a href="bituminous.html" class="flashcard" data-category="bituminous">
                     <img src="images/bituminous.jpg" alt="Bituminous Coal">
                     <h3>Bituminous Coal</h3>
                </a>

                <!-- Anthracite Coal -->
                <a href="anthracite.html" class="flashcard" data-category="anthracite">
                    <img src="images/anthracite.jpg" alt="Anthracite Coal">
                    <h3>Anthracite Coal</h3>
                </a>

                <!-- Lignite Coal -->
                <a href="lignite.html" class="flashcard" data-category="lignite">
                    <img src="images/lignite.jpg" alt="Lignite Coal">
                    <h3>Lignite Coal</h3>
                </a>

                <!-- Sub-bituminous Coal -->
                <a href="sub-bituminous.html" class="flashcard" data-category="sub-bituminous">
                    <img src="images/sub-bituminous.jpg" alt="Sub-bituminous Coal">
                    <h3>Sub-bituminous Coal</h3>
                </a>
            </div>
        </section>

        <!-- Coal Data Overview -->
        <section id="overview" class="overview-section">
            <h2>Coal Data Overview</h2>
            <div class="stats-container">
                <div class="stat-card">
                    <h3>Production</h3>
                    <p>1,200,000 tons</p>
                </div>
                <div class="stat-card">
                    <h3>Pricing</h3>
                    <p>INR 6,150/ton</p>
                </div>
                <div class="stat-card">
                    <h3>Exports</h3>
                    <p>500,000 tons</p>
                </div>
                <div class="stat-card">
                    <h3>Imports</h3>
                    <p>300,000 tons</p>
                </div>
            </div>
        </section>

        <!-- Charts Section -->
        <section id="charts" class="charts-section">
            <h2>Coal Trends</h2>
            <div class="chart-row"> <!-- Flexbox row for side-by-side charts -->
                <div class="chart-container">
                    <canvas id="coalProductionChart"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="coalPriceChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Data Table Section -->
        <section id="data" class="data-section">
            <h2>Coal Data</h2>
            <table>
                <thead>
                    <tr>
                        <th>Year</th>
                        <th>Production (tons)</th>
                        <th>Price (INR/ton)</th>
                        <th>Exports (tons)</th>
                        <th>Imports (tons)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2021</td>
                        <td>1,000,000</td>
                        <td>5,740</td>
                        <td>450,000</td>
                        <td>250,000</td>
                    </tr>
                    <tr>
                        <td>2022</td>
                        <td>1,200,000</td>
                        <td>6,150</td>
                        <td>500,000</td>
                        <td>300,000</td>
                    </tr>
                    <tr>
                        <td>2023</td>
                        <td>1,300,000</td>
                        <td>6,560</td>
                        <td>550,000</td>
                        <td>350,000</td>
                    </tr>
                    <tr>
                        <td>2024</td>
                        <td>1,400,000</td>
                        <td>6,970</td>
                        <td>600,000</td>
                        <td>400,000</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- New Section: Coal Production and Offtake -->
        <section id="production-offtake" class="data-section">
            <h2>Coal Production and Offtake (2022-23 to 2024-25)</h2>
            <table>
                <thead>
                    <tr>
                        <th>Year</th>
                        <th>CIL (MT)</th>
                        <th>SCCL (MT)</th>
                        <th>Captive & Others (MT)</th>
                        <th>Total (MT)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2022-23</td>
                        <td>703.20</td>
                        <td>67.14</td>
                        <td>122.85</td>
                        <td>893.19</td>
                    </tr>
                    <tr>
                        <td>2023-24</td>
                        <td>773.81</td>
                        <td>70.02</td>
                        <td>154.00</td>
                        <td>997.83</td>
                    </tr>
                    <tr>
                        <td>2024-25 (Target)</td>
                        <td>838.00</td>
                        <td>72.00</td>
                        <td>170.00</td>
                        <td>1080.00</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- New Section: Coal Imports -->
        <section id="coal-imports" class="data-section">
            <h2>Coal Imports (2020-21 to 2024-25)</h2>
            <table>
                <thead>
                    <tr>
                        <th>Year</th>
                        <th>Coking Coal (MT)</th>
                        <th>Non-Coking Coal (MT)</th>
                        <th>Total Coal Imports (MT)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2020-21</td>
                        <td>51.20</td>
                        <td>164.05</td>
                        <td>215.25</td>
                    </tr>
                    <tr>
                        <td>2021-22</td>
                        <td>57.16</td>
                        <td>151.77</td>
                        <td>208.93</td>
                    </tr>
                    <tr>
                        <td>2022-23</td>
                        <td>56.05</td>
                        <td>181.62</td>
                        <td>237.67</td>
                    </tr>
                    <tr>
                        <td>2023-24</td>
                        <td>58.81</td>
                        <td>205.72</td>
                        <td>264.53</td>
                    </tr>
                    <tr>
                        <td>2024-25 (Apr-Nov)</td>
                        <td>39.22</td>
                        <td>128.91</td>
                        <td>168.13</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </div>

    <!-- AI Button -->
    <div class="ai-assistant">
        <button class="ai-btn" title="Hi! How can I help you?" onclick="toggleChatbot()">ðŸ¤–</button>
    </div>

    <!-- Chatbot Container -->
    <div class="chatbot-container" id="chatbot-container">
        <div class="chatbot-header">
            <h3>Coal Data Assistant</h3>
            <button id="chatbot-close-btn" onclick="toggleChatbot()">&times;</button>
        </div>
        <div class="chatbot-messages" id="chatbot-messages">
            <!-- Chat messages will appear here -->
        </div>
        <div class="chatbot-input">
            <input type="text" id="chatbot-input" placeholder="Ask me anything about coal data..." />
            <button id="chatbot-send-btn">Send</button>
        </div>
    </div>

    <!-- Onboarding Modal -->
    <div id="onboarding-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); color: white; z-index: 1000; padding: 20px; text-align: center;">
        <div style="background: white; color: black; padding: 20px; border-radius: 10px; max-width: 500px; margin: 100px auto;">
            <h2 id="onboarding-title">Welcome to the Onboarding Process</h2>
            <p id="onboarding-description">Let's walk you through the key features of the website.</p>
            <p id="onboarding-progress">Step 1 of 4</p>
            <button id="onboarding-next-btn" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">Next</button>
            <button id="onboarding-skip-btn" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px;">Skip</button>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const savedTheme = localStorage.getItem("theme");
            if (savedTheme === "dark") {
                document.body.classList.add("dark-mode");
                document.querySelector(".navbar").classList.add("dark-mode");
                document.querySelector(".dashboard-container").classList.add("dark-mode");
                document.querySelectorAll(".stat-card").forEach(el => el.classList.add("dark-mode"));
                document.querySelectorAll(".data-section").forEach(el => el.classList.add("dark-mode"));
            }
        });
    </script>
</body>
</html>